<!DOCTYPE HTML>
<html>

<head>
<title>Галерея</title>
<link rel="stylesheet" href="index2.css">
<meta charset="utf-8">
</head>

<body>

	<p><img id="largeImg" src="https://js.cx/gallery/img1-lg.jpg" alt="Large image"></p>

	<div id="thumbs">
		<!-- При наведении на изображение показывается встроенная подсказка браузера (title) -->
		<a href="https://js.cx/gallery/img2-lg.jpg" title="Image 2"><img src="https://js.cx/gallery/img2-thumb.jpg"></a>
		<a href="https://js.cx/gallery/img3-lg.jpg" title="Image 3"><img src="https://js.cx/gallery/img3-thumb.jpg"></a>
		<a href="https://js.cx/gallery/img4-lg.jpg" title="Image 4"><img src="https://js.cx/gallery/img4-thumb.jpg"></a>
		<a href="https://js.cx/gallery/img5-lg.jpg" title="Image 5"><img src="https://js.cx/gallery/img5-thumb.jpg"></a>
		<a href="https://js.cx/gallery/img6-lg.jpg" title="Image 6"><img src="https://js.cx/gallery/img6-thumb.jpg"></a>
	</div>

	<script>
		preloadImages();
		const largeElement = document.getElementById('largeImg');
		const changeImgInElement = changeImg.bind(null, largeElement);

		document.getElementById('thumbs').addEventListener('click', changeImgInElement);
		
		function changeImg (mainElement, e) {
			e.preventDefault();
			let target = e.target;

			while (target !== e.currentTarget) {
				if (target.tagName === 'A') {
					mainElement.src = target.href;
				}
				target = target.parentNode;
			}
		}

	function preloadImages () {
		const images = document.getElementById('thumbs').querySelectorAll('a');
		for (let i = 0; i < images.length; i++) {
			document.createElement('img').src = images[i].href;
		}
	}
	</script>
</body>

</html>


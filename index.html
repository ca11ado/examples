<!DOCTYPE HTML>
<html>

<head>
<meta charset="utf-8">
<style>
  #scrollElement {
    width: 300px;
    height: 200px;
    overflow: scroll;
    border: 1px solid black;
  }

  .console {
    margin-top: 50px;
    color: red;
  }
</style>
</head>

<body>
  <div id="scrollElement">

  </div>
  <div class="console">
  </div>
  <script>
    let scrollElement = document.getElementById('scrollElement');
    addScrollableElement(10, scrollElement);

    // Task 1: найти прокрутку снизу
    showMetrics(scrollElement);
    scrollElement.addEventListener('scroll', () => {
      showMetrics(scrollElement);
    });

    // Task 2: узнать ширину прокрутки
    console.log(getScrollWidthOnPage());

    // Functions
    function addScrollableElement (textCount, scrollElement) {
      let text = '';
      for (let i = 0; i < textCount; i++) {
        text += 'Кусок какого-нибудь текста, который можно клонировать долго-долго. Вот.';
      }
      scrollElement.textContent = text;
    }

    function showMetrics (scrollElement) {
      let scrollHeight = scrollElement.scrollHeight;
      let scrollTop = scrollElement.scrollTop;
      let contentHeight = scrollElement.clientHeight;
      let scrollBottom = scrollHeight - scrollTop - contentHeight;

      let consoleElement = document.querySelector('.console');
      consoleElement.innerHTML = `<ul>\
        <li>Вся высота ${scrollHeight}</li>\
        <li>Скорлл сверху ${scrollTop}</li>\
        <li>Скролл снизу ${scrollBottom}</li>\
      </ul>`;
    }

    function getScrollWidthOnPage () {
      let emptyDiv = document.createElement('div');
      Object.assign(emptyDiv.style, {
        width: '200px',
        height: '200px',
        overflowY: 'scroll',
        visibility: 'hidden'
      });
      document.body.appendChild(emptyDiv);

      let result = emptyDiv.offsetWidth - emptyDiv.clientWidth;

      document.body.removeChild(emptyDiv);

      return result;
    }
  </script>
</body>

</html>
